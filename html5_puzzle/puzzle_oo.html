<!DOCTYPE html>
<html>
<head>
    <title></title>
	<SCRIPT LANGUAGE="JavaScript" SRC="puzzle.class.js"></SCRIPT>	
	<SCRIPT LANGUAGE="JavaScript" SRC="canvas.class.js"></SCRIPT>	
    <script>

        const PUZZLE_DIFFICULTY = 2;
		const PUZZLE_IMG_SRC = "mke.jpg";
		
		var imagePuzzle;
	    var _puzzle;
		var _canvas;
		var _stage;
		
		function init(){
			//Load Multimedia
			imagePuzzle = new Image();
			imagePuzzle.addEventListener('load',initGame,false);
			imagePuzzle.src = PUZZLE_IMG_SRC;	
		}	
		
		function initGame(){		
            _mouse = {x:0,y:0};
			_puzzle = new puzzleClass(imagePuzzle.width, imagePuzzle.height, PUZZLE_DIFFICULTY);
			_puzzle.init();   		
			_canvas = new canvasClass('canvas', imagePuzzle.width, imagePuzzle.height, imagePuzzle);			
			_canvas.init();	
			document.onmousedown = startGame;
		}						
		
		function startGame(){						
			_canvas.drawScenario(_puzzle.getPieces(), _puzzle.getPieceWeight, _puzzle.getPieceHeight);
		}	
		
		
    </script>
</head>

<body onload="init();">
    <canvas id="canvas"></canvas>
</body>

</html>